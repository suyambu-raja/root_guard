import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Translation resources
const resources = {
  en: {
    translation: {
      nav: {
        dashboard: "Dashboard",
        sensors: "Sensors",
        irrigation: "Irrigation",
        alerts: "Alerts",
        settings: "Settings",
        analytics: "Analytics"
      },
      dashboard: {
        title: "My Farm Dashboard",
        subtitle: "Real-time monitoring for healthy crops",
        farmHealthScore: "Farm Health Score",
        outOf100: "out of 100",
        excellent: "Excellent",
        needsAttention: "Needs Attention",
        critical: "Critical",
        calculating: "Calculating...",
        waitingForData: "Waiting for data...",
        waterLevel: "Water Level",
        soilMoisture: "Soil Moisture",
        flowRate: "Flow Rate",
        pumpStatus: "Pump Status",
        waterQuality: "Water Quality",
        clear: "Clear",
        cloudy: "Cloudy",
        good: "Good",
        check: "Check",
        normal: "Normal",
        alert: "Alert",
        startWatering: "Start Watering",
        irrigating: "Irrigating...",
        pauseIrrigation: "Pause Irrigation",
        saveWater: "Save Water",
        survivalMode: "Survival Mode",
        alerts: "Alerts",
        immediateAttention: "Immediate attention needed",
        checkAlertsPage: "Check alerts page",
        autoRefresh: "Auto-refresh (15s)",
        actions: "Quick Actions"
      },
      irrigation: {
        title: "Irrigation Control",
        subtitle: "Full irrigation control + history",
        status: "Status",
        currentMode: "Current Mode",
        modes: "Irrigation Modes",
        manual: "Manual",
        manualMode: "MANUAL MODE",
        normal: "NORMAL",
        survival: "SURVIVAL",
        off: "System Off",
        start: "Start",
        stop: "Stop",
        manualControl: "Manual Control",
        duration: "Duration",
        active: "ACTIVE",
        inactive: "INACTIVE",
        running: "Running...",
        recentSessions: "Recent Sessions",
        noSessions: "No irrigation sessions yet",
        startFirst: "Start your first session above",
        pumpStatus: "Pump Status",
        modeUpdated: "Mode Updated",
        manualModeActivated: "Manual mode activated. You have full control.",
        normalModeActivated: "Smart Auto mode activated. System will optimize watering.",
        survivalModeActivated: "Survival mode activated. Water usage is minimized.",
        failedToUpdateMode: "Failed to update irrigation mode. Please try again."
      },
      analytics: {
        title: "Farm Analytics",
        subtitle: "Water savings & farm performance tracking",
        waterUsage: "Water Usage",
        costSavings: "Cost Savings",
        efficiency: "Efficiency",
        thisWeekSaved: "This Week Saved",
        improvement: "efficiency improvement",
        totalSessions: "Total Sessions",
        waterUsed: "water used",
        healthTrend: "Health Score Trend (Last 24 Hours)",
        soilTrend: "Soil Moisture Trend",
        dailyUsage: "Daily Water Usage (Last 7 Days)",
        avgSession: "Avg/Session",
        weeklyReport: "Weekly Report",
        exportCsv: "Export CSV",
        exportDesc: "Export your farm analytics",
        waterSaved: "Water Saved"
      },
      alerts: {
        title: "Alerts",
        subtitle: "Critical notifications + action center",
        newAlerts: "New Alerts",
        attentionRequired: "Attention required",
        allSystemsNormal: "All systems normal",
        noActiveAlerts: "No active alerts. Your irrigation system is running smoothly.",
        resolvedAlerts: "Resolved Alerts",
        resolved: "Resolved",
        resolve: "RESOLVE",
        markFixed: "MARK FIXED",
        dismiss: "Dismiss",
        // Dynamic Alert Keys
        alert_critical_water: "Critical water level: {{level}}%",
        alert_low_water: "Low water level: {{level}}%",
        alert_poor_water: "Poor water quality detected: {{turbidity}}% clarity",
        alert_high_vibration: "High vibration detected - Check pump motor",
        alert_low_moisture: "Low soil moisture: {{moisture}}% - Consider irrigation",
        alert_mode_changed: "Irrigation mode changed to {{mode}}",
        alert_irrigation_status: "Irrigation {{status}} ({{mode}} mode)",
        alert_auto_irrigation_started: "Auto-irrigation started: {{reason}}",
        alert_auto_irrigation_stopped: "Auto-irrigation stopped: {{reason}}",
        alert_survival_irrigation_stopped: "Survival irrigation stopped: {{reason}}",
        alert_survival_mode_switch: "Automatically switched to SURVIVAL mode - Low water resources detected",
        reason_low_moisture: "Low soil moisture: {{moisture}}%",
        reason_critical_moisture_survival: "Critical soil moisture in survival mode: {{moisture}}%",
        reason_moisture_sufficient: "Soil moisture sufficient ({{moisture}}%)",
        reason_target_reached: "Target moisture reached ({{moisture}}%)"
      },
      settings: {
        title: "Settings",
        subtitle: "Farm configuration + preferences",
        farmSettings: "Farm Settings",
        farmName: "Farm Name",
        borewellDepth: "Borewell Depth (meters)",
        cropType: "Crop Type",
        location: "Location",
        notifications: "Notifications",
        criticalAlerts: "Critical Alerts",
        warningAlerts: "Warning Alerts",
        smsAlerts: "SMS Alerts",
        thresholds: "Soil Moisture Thresholds",
        dryLevel: "Dry Level (%)",
        optimalLevel: "Optimal Level (%)",
        triggerDesc: "Triggers irrigation",
        targetDesc: "Target moisture level",
        language: "Language Settings",
        interfaceLang: "Interface Language",
        raspberryPi: "Raspberry Pi Connection",
        online: "ONLINE",
        offline: "OFFLINE",
        testConnection: "TEST CONNECTION",
        testing: "TESTING...",
        systemInfo: "System Information",
        appVersion: "App Version",
        deviceId: "Device ID",
        project: "Project",
        team: "Team",
        lastSync: "Last Sync",
        justNow: "Just now"
      },
      common: {
        loading: "Loading...",
        error: "Error",
        success: "Success",
        on: "ON",
        off: "OFF",
        min: "min"
      },
      sensors: {
        litersPerMin: "L/min"
      }
    }
  },
  ta: {
    translation: {
      nav: {
        dashboard: "முகப்பு",
        sensors: "சென்சார்கள்",
        irrigation: "நீர்ப்பாசனம்",
        alerts: "எச்சரிக்கைகள்",
        settings: "அமைப்புகள்",
        analytics: "பகுப்பாய்வு"
      },
      dashboard: {
        title: "என் பண்ணை முகப்பு",
        subtitle: "ஆரோக்கியமான பயிர்களுக்கான நேரடி கண்காணிப்பு",
        farmHealthScore: "பண்ணை ஆரோக்கியம்",
        outOf100: "100-க்கு",
        excellent: "மிக நன்று",
        needsAttention: "கவனிக்கவும்",
        critical: "ஆபத்து",
        calculating: "கணக்கிடுகிறது...",
        waitingForData: "காத்திருக்கிறது...",
        waterLevel: "நீர் மட்டம்",
        soilMoisture: "மண் ஈரம்",
        flowRate: "நீர் ஓட்டம்",
        pumpStatus: "பம்ப் நிலை",
        waterQuality: "நீர் தரம்",
        clear: "தெளிவு",
        cloudy: "கலங்கல்",
        good: "நன்று",
        check: "சரிபார்",
        normal: "சராசரி",
        alert: "எச்சரிக்கை",
        startWatering: "நீர் பாய்ச்சு",
        irrigating: "பாய்கிறது...",
        pauseIrrigation: "நிறுத்தி வை",
        saveWater: "நீரை சேமி",
        survivalMode: "சிக்கன முறை",
        alerts: "எச்சரிக்கைகள்",
        immediateAttention: "உடனடி கவனம் தேவை",
        checkAlertsPage: "எச்சரிக்கைகளை பார்",
        autoRefresh: "தானியங்கு புதுப்பிப்பு (15வி)"
      },
      irrigation: {
        title: "நீர்ப்பாசன கட்டுப்பாடு",
        subtitle: "முழு கட்டுப்பாடு மற்றும் வரலாறு",
        status: "நிலை",
        currentMode: "தற்போதைய முறை",
        modes: "பாசன முறைகள்",
        manual: "கைமுறை",
        manualMode: "கைமுறை பாசனம்",
        normal: "சாதாரண",
        survival: "சிக்கனம்",
        off: "நிறுத்தப்பட்டது",
        start: "தொடங்கு",
        stop: "நிறுத்து",
        manualControl: "கைமுறை கட்டுப்பாடு",
        duration: "கால அளவு",
        active: "இயங்குகிறது",
        inactive: "நின்றது",
        running: "ஓடுகிறது...",
        recentSessions: "சமீபத்திய பாசனம்",
        noSessions: "பாசன பதிவுகள் இல்லை",
        startFirst: "முதலில் பாசனத்தை தொடங்கவும்",
        pumpStatus: "பம்ப் நிலை"
      },
      analytics: {
        title: "பண்ணை பகுப்பாய்வு",
        subtitle: "நீர் சேமிப்பு மற்றும் செயல்திறன் கண்காணிப்பு",
        waterUsage: "நீர் பயன்பாடு",
        costSavings: "செலவு சேமிப்பு",
        efficiency: "செயல்திறன்",
        thisWeekSaved: "இந்த வாரம் சேமிப்பு",
        improvement: "செயல்திறன் உயர்வு",
        totalSessions: "மொத்த அமர்வுகள்",
        waterUsed: "பயன்படுத்தப்பட்ட நீர்",
        healthTrend: "ஆரோக்கிய போக்கு (கடந்த 24 மணி)",
        soilTrend: "மண் ஈரப்பதம் போக்கு",
        dailyUsage: "தினசரி நீர் பயன்பாடு (7 நாட்கள்)",
        avgSession: "சராசரி/அமர்வு",
        weeklyReport: "வாராந்திர அறிக்கை",
        exportCsv: "CSV ஏற்றுமதி",
        exportDesc: "பகுப்பாய்வு தரவை பதிவிறக்க",
        waterSaved: "சேமிக்கப்பட்ட நீர்"
      },
      alerts: {
        title: "எச்சரிக்கைகள்",
        subtitle: "முக்கிய அறிவிப்புகள் மற்றும் நடவடிக்கைகள்",
        newAlerts: "புதிய எச்சரிக்கைகள்",
        attentionRequired: "கவனம் தேவை",
        allSystemsNormal: "அனைத்தும் சீராக உள்ளது",
        noActiveAlerts: "எச்சரிக்கைகள் இல்லை. பாசன அமைப்பு சீராக இயங்குகிறது.",
        resolvedAlerts: "தீர்க்கப்பட்ட எச்சரிக்கைகள்",
        resolved: "தீர்க்கப்பட்டது",
        resolve: "தீர்க்கவும்",
        markFixed: "சரி செய்யப்பட்டது",
        dismiss: "நீக்கு",
        // Dynamic Alert Keys
        alert_critical_water: "மிகக்குறைந்த நீர் மட்டம்: {{level}}%",
        alert_low_water: "குறைந்த நீர் மட்டம்: {{level}}%",
        alert_poor_water: "மோசமான நீர் தரம்: {{turbidity}}% தெளிவு",
        alert_high_vibration: "அதிக அதிர்வு கண்டறியப்பட்டது - மோட்டாரை பார்க்கவும்",
        alert_low_moisture: "குறைந்த மண் ஈரம்: {{moisture}}% - நீர் பாய்ச்சவும்",
        alert_mode_changed: "பாசன முறை {{mode}}-க்கு மாறியது",
        alert_irrigation_status: "பாசனம் {{status}} ({{mode}} முறை)",
        alert_auto_irrigation_started: "தானியங்கி பாசனம் தொடங்கியது: {{reason}}",
        alert_auto_irrigation_stopped: "தானியங்கி பாசனம் நின்றது: {{reason}}",
        alert_survival_irrigation_stopped: "சிக்கன பாசனம் நின்றது: {{reason}}",
        alert_survival_mode_switch: "தானாகவே சிக்கன முறைக்கு மாறியது - குறைந்த நீர் வளம்",
        reason_low_moisture: "குறைந்த மண் ஈரம்: {{moisture}}%",
        reason_critical_moisture_survival: "ஆபத்தான மண் ஈரம்: {{moisture}}%",
        reason_moisture_sufficient: "மண் ஈரம் போதுமானது ({{moisture}}%)",
        reason_target_reached: "இலக்கு ஈரம் அடையப்பட்டது ({{moisture}}%)"
      },
      settings: {
        title: "அமைப்புகள்",
        subtitle: "பண்ணை கட்டமைப்பு மற்றும் விருப்பங்கள்",
        farmSettings: "பண்ணை அமைப்புகள்",
        farmName: "பண்ணை பெயர்",
        borewellDepth: "ஆழ்துளை கிணறு ஆழம் (மீட்டர்)",
        cropType: "பயிர் வகை",
        location: "இடம்",
        notifications: "அறிவிப்புகள்",
        criticalAlerts: "முக்கிய எச்சரிக்கைகள்",
        warningAlerts: "கவனிக்க வேண்டியவை",
        smsAlerts: "SMS எச்சரிக்கைகள்",
        thresholds: "மண் ஈரப்பதம் வரம்புகள்",
        dryLevel: "வறட்சி நிலை (%)",
        optimalLevel: "உகந்த நிலை (%)",
        triggerDesc: "பாசனத்தை தூண்டும்",
        targetDesc: "இலக்கு ஈரப்பதம்",
        language: "மொழி அமைப்புகள்",
        interfaceLang: "இடைமுக மொழி",
        raspberryPi: "Raspberry Pi இணைப்பு",
        online: "ஆன்லைன்",
        offline: "ஆஃப்லைன்",
        testConnection: "இணைப்பை சோதிக்கவும்",
        testing: "சோதிக்கப்படுகிறது...",
        systemInfo: "அமைப்பு தகவல்கள்",
        appVersion: "செயலி பதிப்பு",
        deviceId: "சாதன எண்",
        project: "திட்டம்",
        team: "குழு",
        lastSync: "கடைசி ஒத்திசைவு",
        justNow: "இப்போது"
      },
      common: {
        loading: "ஏற்றுகிறது...",
        error: "பிழை",
        success: "வெற்றி",
        on: "ஆன்",
        off: "ஆஃப்",
        min: "நிமி"
      },
      sensors: {
        litersPerMin: "லி/நிமி"
      }
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    debug: true,
    interpolation: {
      escapeValue: false
    },
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage']
    }
  });

export default i18n;